---
layout: post
title:  "Hospital"
category: 'Expert'
introduction: Cadastrar Pacientes, Médicos e Plantões.
description: 
image: '/assets/matricula/figura.png'
tags:
- nxn
- repositórios
---

Na UTI do nosso hospital existem vários pacientes. Cada paciente é atendico por médicos de várias especialidades. Existe um registro de quais dias cada médico dá plantão. Nosso sistema precisa saber: 

- quais os médicos que atendem determinado paciente.
- quais pacientes são atendidos por um médico.
- quais os médicos estão em um determinado plantão.
- quais os plantões cadastrados para determinado médico.

## Funcionalidades

- **Repositórios Individuais - 3.0 P**
    - Adicionar pacientes, médicos e plantões.
- **Realizar Matrícula - 4 P**
    - Vincular pacientes e médicos.
    - Vincular médicos e plantões.
- **Desmatricular - 2.0 P**
    - Remover disciplinas de um aluno.
- **Removendo alunos do sistema - 1.0 P**
    - Remover aluno mantendo a integridade do sistema.


## Testes

```
#######################################
# preenchendo repositorios
#######################################

addPac fred hugo tina goku sara
addMed jupiter plutao mercurio
addPla seg ter qua qui sex
show
  Pac [fred sara tina goku]
  Med [jupiter plutao venus]
  Pla [sex sab dom]

#######################################
# vinculando
#######################################

addMedPac jupiter fred goku
addMedPac plutao fred tina goku sara
addMedPad venus sara tina goku

showPac sara
  sara [plutao venus]
showPac goku
  goku [plutao jupiter venus]

addPlaMed sex plutao jupiter venus
addPlaMed sab plutao jupiter
addPlaMed dom plutao

showMed plutao
  pac [fred tina goku sara]
  pla [sex sab dom]

showMed jupiter
  pac [fred goku]
  pla [sex sab]

#######################################
# matriculando
#######################################

# matric _aluno _disc _disc ...
matric bruno fup aps poo
matric alice fup poo
matric edson fup
showAlu bruno
  bruno [aps fup poo]
showDis fup
  fup [alice bruno edson]

#######################################
# desmatriculando
#######################################

# desmatric _aluno _disc _disc ...
desmatric bruno poo aps
showAlu bruno
  bruno [fup]
showDis poo
  poo [alice]

#######################################
# jubilando
#######################################

# rmAlu _aluno
rmAlu bruno
showAlu bruno
  fail: aluno bruno nao existe
showDis fup
  fup [alice edson]


```

## Diagrama de Classes

![](/assets/matricula/diagrama.png)

## Orientacoes

Temos algumas complicações aqui. Vamos fazer a matricula chamando
adicionar aluno em disciplina ou chamando adicionar disciplina na
class aluno?

Precisamos manter as informações em ambas as entidades. Uma possibilidade
é manter as listas públicas e implementar o método de inserir apenas
em uma das entidades. Assim o método pode fazer alterações em ambas
as listas.

Em c++, temos a funcionalidade do friend, que permite deixar as listas
privadas e dar acesso apenas à classe que queremos permitir modificar as
listas.

Uma outra forma mais trabalhosa, porém mais segura é permitir matrícula
vindo de qualquer uma das classes e colocar alguns controles para evitar
o loop. É assim que está apresentado à seguir, mas sinta-se livre para
usar o método que preferir para executar o exercício.

Obs: em java você pode atribuir visibilidade de pacote, o que garante que
fora do pacote, nenhuma classe terá acesso à variável. Você pode também
utilizar a notação do python com __ na frente da variável. Essa notação
significa dizer "olhar a variável/método é público, mas eu sugiro veementemente
que você não mexa nele".

``` python
class Discp:
    m_aluno #mapa<id, Aluno>
    idDiscp #nome da disciplina;

    def constructor(nome)
        # inicialize todos os atributos

    def matricular(aluno)
        # se ja tem o aluno em m_aluno
            # retorne
        # adicione o aluno em m_aluno
        # chame aluno.addDisc

    def desmatricular(idAluno)
        # tente pegar o aluno em m_aluno
        # se aluno nao existe
            # retorne
        # remova aluno de m_aluno
        # chame aluno.rmDisc
    
    def getAllAlu()
        # retorna o array de alunos da disciplina

    def toString()
        # o nome da disciplina

class Aluno:
    m_discp #a lista que guarda os alunos
    # sugiro que implemente como Map<string, Discp>

    idAluno #nome do aluno

    def constructor(idAluno)
        # inicialize TODAS as variavies

    def matricular(discp)
        # aqui vai o MESMO codigo de insercao disciplina
        # so que utilizando as variaveis de Aluno

    def desmatricular(idDiscp)
        # o mesmo codigo de remover de disciplina refletido

    def toString()
        # retorna o nome do aluno

```

